#include <stdio.h>
#include <stdlib.h>
#include "joueur.h"
#include "lancer1.h"

void fonction1lancer(Joueur* pointeurtab_joueur)
{
	int nbaleatoirelancer;
	int touractuel;
    int intervallelancer2;

	srand(time(NULL));                      //on génère un nombre aléatoire entre 0 et 10 pour simuler un lancer

	do
	{
		printf("Appuyez sur '*' pour lancer \n");
		nbaleatoirelancer = rand()%10+0;
	}while(nbaleatoirelancer!='*');


	if(nbaleatoirelancer<10)   //lancer classique
	{
	   touractuel = pointeurtab_joueur->tourcourant;   //on regarde à quel tour on se trouve pour savoir quelle case du tableau tab_score incrémenter
	   pointeurtab_joueur->tab_score[touractuel]=nbaleatoirelancer;
	   intervallelancer2=10-nbaleatoirelancer //on calcule l'intervalle du second lancer
	   fonction2lancer(intervallelancer2,pointeurtab_joueur); //on lance une deuxieme fois

	}

	if(nbaleatoirelancer==10) //strike
	{
	   touractuel = pointeurtab_joueur->tourcourant;
	   pointeurtab_joueur->tab_score[touractuel]=10;   //le premier lancer vaut 10
	   pointeurtab_joueur->tab_score[touractuel+1]=-1; //le second -1 étant donné qu'il n'est pas joué
	   pointeurtab_joueur->tourcourant=tourcourant++; //on change de tour

	}





}
